{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { toUint8Array } from \"@aws-sdk/util-utf8\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport var getPayloadHash = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref, hashConstructor) {\n    var headers, body, _i, _Object$keys, headerName, hashCtor;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          headers = _ref.headers, body = _ref.body;\n          _i = 0, _Object$keys = Object.keys(headers);\n        case 2:\n          if (!(_i < _Object$keys.length)) {\n            _context.next = 9;\n            break;\n          }\n          headerName = _Object$keys[_i];\n          if (!(headerName.toLowerCase() === SHA256_HEADER)) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", headers[headerName]);\n        case 6:\n          _i++;\n          _context.next = 2;\n          break;\n        case 9:\n          if (!(body == undefined)) {\n            _context.next = 13;\n            break;\n          }\n          return _context.abrupt(\"return\", \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\");\n        case 13:\n          if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) {\n            _context.next = 21;\n            break;\n          }\n          hashCtor = new hashConstructor();\n          hashCtor.update(toUint8Array(body));\n          _context.t0 = toHex;\n          _context.next = 19;\n          return hashCtor.digest();\n        case 19:\n          _context.t1 = _context.sent;\n          return _context.abrupt(\"return\", (0, _context.t0)(_context.t1));\n        case 21:\n          return _context.abrupt(\"return\", UNSIGNED_PAYLOAD);\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function getPayloadHash(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["isArrayBuffer","toHex","toUint8Array","SHA256_HEADER","UNSIGNED_PAYLOAD","getPayloadHash","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","hashConstructor","headers","body","_i","_Object$keys","headerName","hashCtor","wrap","_callee$","_context","prev","next","Object","keys","length","toLowerCase","abrupt","undefined","ArrayBuffer","isView","update","t0","digest","t1","sent","stop","_x","_x2","apply","arguments"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/signature-v4/dist-es/getPayloadHash.js"],"sourcesContent":["import { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { toUint8Array } from \"@aws-sdk/util-utf8\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport const getPayloadHash = async ({ headers, body }, hashConstructor) => {\n    for (const headerName of Object.keys(headers)) {\n        if (headerName.toLowerCase() === SHA256_HEADER) {\n            return headers[headerName];\n        }\n    }\n    if (body == undefined) {\n        return \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\";\n    }\n    else if (typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body)) {\n        const hashCtor = new hashConstructor();\n        hashCtor.update(toUint8Array(body));\n        return toHex(await hashCtor.digest());\n    }\n    return UNSIGNED_PAYLOAD;\n};\n"],"mappings":";;AAAA,SAASA,aAAa,QAAQ,0BAA0B;AACxD,SAASC,KAAK,QAAQ,4BAA4B;AAClD,SAASC,YAAY,QAAQ,oBAAoB;AACjD,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,aAAa;AAC7D,OAAO,IAAMC,cAAc;EAAA,IAAAC,KAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAAC,IAAA,EAA0BC,eAAe;IAAA,IAAAC,OAAA,EAAAC,IAAA,EAAAC,EAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,QAAA;IAAA,OAAAV,mBAAA,GAAAW,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAhCV,OAAO,GAAAF,IAAA,CAAPE,OAAO,EAAEC,IAAI,GAAAH,IAAA,CAAJG,IAAI;UAAAC,EAAA,MAAAC,YAAA,GACvBQ,MAAM,CAACC,IAAI,CAACZ,OAAO,CAAC;QAAA;UAAA,MAAAE,EAAA,GAAAC,YAAA,CAAAU,MAAA;YAAAL,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAlCN,UAAU,GAAAD,YAAA,CAAAD,EAAA;UAAA,MACbE,UAAU,CAACU,WAAW,EAAE,KAAKxB,aAAa;YAAAkB,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAO,MAAA,WACnCf,OAAO,CAACI,UAAU,CAAC;QAAA;UAAAF,EAAA;UAAAM,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAA,MAG9BT,IAAI,IAAIe,SAAS;YAAAR,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAO,MAAA,WACV,kEAAkE;QAAA;UAAA,MAEpE,OAAOd,IAAI,KAAK,QAAQ,IAAIgB,WAAW,CAACC,MAAM,CAACjB,IAAI,CAAC,IAAId,aAAa,CAACc,IAAI,CAAC;YAAAO,QAAA,CAAAE,IAAA;YAAA;UAAA;UAC1EL,QAAQ,GAAG,IAAIN,eAAe,EAAE;UACtCM,QAAQ,CAACc,MAAM,CAAC9B,YAAY,CAACY,IAAI,CAAC,CAAC;UAACO,QAAA,CAAAY,EAAA,GAC7BhC,KAAK;UAAAoB,QAAA,CAAAE,IAAA;UAAA,OAAOL,QAAQ,CAACgB,MAAM,EAAE;QAAA;UAAAb,QAAA,CAAAc,EAAA,GAAAd,QAAA,CAAAe,IAAA;UAAA,OAAAf,QAAA,CAAAO,MAAA,eAAAP,QAAA,CAAAY,EAAA,EAAAZ,QAAA,CAAAc,EAAA;QAAA;UAAA,OAAAd,QAAA,CAAAO,MAAA,WAEjCxB,gBAAgB;QAAA;QAAA;UAAA,OAAAiB,QAAA,CAAAgB,IAAA;MAAA;IAAA,GAAA3B,OAAA;EAAA,CAC1B;EAAA,gBAfYL,cAAcA,CAAAiC,EAAA,EAAAC,GAAA;IAAA,OAAAjC,KAAA,CAAAkC,KAAA,OAAAC,SAAA;EAAA;AAAA,GAe1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}