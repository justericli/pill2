{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { validate as validateArn } from \"@aws-sdk/util-arn-parser\";\nexport function validateBucketNameMiddleware() {\n  return function (next) {\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(args) {\n        var Bucket, err;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              Bucket = args.input.Bucket;\n              if (!(typeof Bucket === \"string\" && !validateArn(Bucket) && Bucket.indexOf(\"/\") >= 0)) {\n                _context.next = 5;\n                break;\n              }\n              err = new Error(\"Bucket name shouldn't contain '/', received '\".concat(Bucket, \"'\"));\n              err.name = \"InvalidBucketName\";\n              throw err;\n            case 5:\n              return _context.abrupt(\"return\", next(_objectSpread({}, args)));\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  };\n}\nexport var validateBucketNameMiddlewareOptions = {\n  step: \"initialize\",\n  tags: [\"VALIDATE_BUCKET_NAME\"],\n  name: \"validateBucketNameMiddleware\",\n  override: true\n};\nexport var getValidateBucketNamePlugin = function getValidateBucketNamePlugin(unused) {\n  return {\n    applyToStack: function applyToStack(clientStack) {\n      clientStack.add(validateBucketNameMiddleware(), validateBucketNameMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"names":["validate","validateArn","validateBucketNameMiddleware","next","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","args","Bucket","err","wrap","_callee$","_context","prev","input","indexOf","Error","concat","name","abrupt","_objectSpread","stop","_x","apply","arguments","validateBucketNameMiddlewareOptions","step","tags","override","getValidateBucketNamePlugin","unused","applyToStack","clientStack","add"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js"],"sourcesContent":["import { validate as validateArn } from \"@aws-sdk/util-arn-parser\";\nexport function validateBucketNameMiddleware() {\n    return (next) => async (args) => {\n        const { input: { Bucket }, } = args;\n        if (typeof Bucket === \"string\" && !validateArn(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n            const err = new Error(`Bucket name shouldn't contain '/', received '${Bucket}'`);\n            err.name = \"InvalidBucketName\";\n            throw err;\n        }\n        return next({ ...args });\n    };\n}\nexport const validateBucketNameMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"VALIDATE_BUCKET_NAME\"],\n    name: \"validateBucketNameMiddleware\",\n    override: true,\n};\nexport const getValidateBucketNamePlugin = (unused) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(validateBucketNameMiddleware(), validateBucketNameMiddlewareOptions);\n    },\n});\n"],"mappings":";;;AAAA,SAASA,QAAQ,IAAIC,WAAW,QAAQ,0BAA0B;AAClE,OAAO,SAASC,4BAA4BA,CAAA,EAAG;EAC3C,OAAO,UAACC,IAAI;IAAA;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOC,IAAI;QAAA,IAAAC,MAAA,EAAAC,GAAA;QAAA,OAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAX,IAAA;YAAA;cACPO,MAAM,GAAQD,IAAI,CAA3BO,KAAK,CAAIN,MAAM;cAAA,MACnB,OAAOA,MAAM,KAAK,QAAQ,IAAI,CAACT,WAAW,CAACS,MAAM,CAAC,IAAIA,MAAM,CAACO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;gBAAAH,QAAA,CAAAX,IAAA;gBAAA;cAAA;cACxEQ,GAAG,GAAG,IAAIO,KAAK,iDAAAC,MAAA,CAAiDT,MAAM,OAAI;cAChFC,GAAG,CAACS,IAAI,GAAG,mBAAmB;cAAC,MACzBT,GAAG;YAAA;cAAA,OAAAG,QAAA,CAAAO,MAAA,WAENlB,IAAI,CAAAmB,aAAA,KAAMb,IAAI,EAAG;YAAA;YAAA;cAAA,OAAAK,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA,CAC3B;MAAA,iBAAAgB,EAAA;QAAA,OAAApB,IAAA,CAAAqB,KAAA,OAAAC,SAAA;MAAA;IAAA;EAAA;AACL;AACA,OAAO,IAAMC,mCAAmC,GAAG;EAC/CC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,CAAC,sBAAsB,CAAC;EAC9BT,IAAI,EAAE,8BAA8B;EACpCU,QAAQ,EAAE;AACd,CAAC;AACD,OAAO,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIC,MAAM;EAAA,OAAM;IACpDC,YAAY,EAAE,SAAAA,aAACC,WAAW,EAAK;MAC3BA,WAAW,CAACC,GAAG,CAACjC,4BAA4B,EAAE,EAAEyB,mCAAmC,CAAC;IACxF;EACJ,CAAC;AAAA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}