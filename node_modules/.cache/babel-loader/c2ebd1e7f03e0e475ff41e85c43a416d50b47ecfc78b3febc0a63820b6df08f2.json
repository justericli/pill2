{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectWithoutProperties from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _excluded = [\"$metadata\"];\nexport var loggerMiddleware = function loggerMiddleware() {\n  return function (next, context) {\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(args) {\n        var _logger$info, response, clientName, commandName, logger, _context$dynamoDbDocu, dynamoDbDocumentClientOptions, overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog, inputFilterSensitiveLog, outputFilterSensitiveLog, _response$output, $metadata, outputWithoutMetadata, _logger$error, _clientName, _commandName, _logger, _context$dynamoDbDocu2, _dynamoDbDocumentClientOptions, _overrideInputFilterSensitiveLog, _inputFilterSensitiveLog;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return next(args);\n            case 3:\n              response = _context.sent;\n              clientName = context.clientName, commandName = context.commandName, logger = context.logger, _context$dynamoDbDocu = context.dynamoDbDocumentClientOptions, dynamoDbDocumentClientOptions = _context$dynamoDbDocu === void 0 ? {} : _context$dynamoDbDocu;\n              overrideInputFilterSensitiveLog = dynamoDbDocumentClientOptions.overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog = dynamoDbDocumentClientOptions.overrideOutputFilterSensitiveLog;\n              inputFilterSensitiveLog = overrideInputFilterSensitiveLog !== null && overrideInputFilterSensitiveLog !== void 0 ? overrideInputFilterSensitiveLog : context.inputFilterSensitiveLog;\n              outputFilterSensitiveLog = overrideOutputFilterSensitiveLog !== null && overrideOutputFilterSensitiveLog !== void 0 ? overrideOutputFilterSensitiveLog : context.outputFilterSensitiveLog;\n              _response$output = response.output, $metadata = _response$output.$metadata, outputWithoutMetadata = _objectWithoutProperties(_response$output, _excluded);\n              logger === null || logger === void 0 ? void 0 : (_logger$info = logger.info) === null || _logger$info === void 0 ? void 0 : _logger$info.call(logger, {\n                clientName: clientName,\n                commandName: commandName,\n                input: inputFilterSensitiveLog(args.input),\n                output: outputFilterSensitiveLog(outputWithoutMetadata),\n                metadata: $metadata\n              });\n              return _context.abrupt(\"return\", response);\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              _clientName = context.clientName, _commandName = context.commandName, _logger = context.logger, _context$dynamoDbDocu2 = context.dynamoDbDocumentClientOptions, _dynamoDbDocumentClientOptions = _context$dynamoDbDocu2 === void 0 ? {} : _context$dynamoDbDocu2;\n              _overrideInputFilterSensitiveLog = _dynamoDbDocumentClientOptions.overrideInputFilterSensitiveLog;\n              _inputFilterSensitiveLog = _overrideInputFilterSensitiveLog !== null && _overrideInputFilterSensitiveLog !== void 0 ? _overrideInputFilterSensitiveLog : context.inputFilterSensitiveLog;\n              _logger === null || _logger === void 0 ? void 0 : (_logger$error = _logger.error) === null || _logger$error === void 0 ? void 0 : _logger$error.call(_logger, {\n                clientName: _clientName,\n                commandName: _commandName,\n                input: _inputFilterSensitiveLog(args.input),\n                error: _context.t0,\n                metadata: _context.t0.$metadata\n              });\n              throw _context.t0;\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 13]]);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  };\n};\nexport var loggerMiddlewareOptions = {\n  name: \"loggerMiddleware\",\n  tags: [\"LOGGER\"],\n  step: \"initialize\",\n  override: true\n};\nexport var getLoggerPlugin = function getLoggerPlugin(options) {\n  return {\n    applyToStack: function applyToStack(clientStack) {\n      clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"names":["loggerMiddleware","next","context","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","args","_logger$info","response","clientName","commandName","logger","_context$dynamoDbDocu","dynamoDbDocumentClientOptions","overrideInputFilterSensitiveLog","overrideOutputFilterSensitiveLog","inputFilterSensitiveLog","outputFilterSensitiveLog","_response$output","$metadata","outputWithoutMetadata","_logger$error","_clientName","_commandName","_logger","_context$dynamoDbDocu2","_dynamoDbDocumentClientOptions","_overrideInputFilterSensitiveLog","_inputFilterSensitiveLog","wrap","_callee$","_context","prev","sent","output","_objectWithoutProperties","_excluded","info","call","input","metadata","abrupt","t0","error","stop","_x","apply","arguments","loggerMiddlewareOptions","name","tags","step","override","getLoggerPlugin","options","applyToStack","clientStack","add"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js"],"sourcesContent":["export const loggerMiddleware = () => (next, context) => async (args) => {\n    try {\n        const response = await next(args);\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\n        const { overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\n        const outputFilterSensitiveLog = overrideOutputFilterSensitiveLog ?? context.outputFilterSensitiveLog;\n        const { $metadata, ...outputWithoutMetadata } = response.output;\n        logger?.info?.({\n            clientName,\n            commandName,\n            input: inputFilterSensitiveLog(args.input),\n            output: outputFilterSensitiveLog(outputWithoutMetadata),\n            metadata: $metadata,\n        });\n        return response;\n    }\n    catch (error) {\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\n        const { overrideInputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\n        logger?.error?.({\n            clientName,\n            commandName,\n            input: inputFilterSensitiveLog(args.input),\n            error,\n            metadata: error.$metadata,\n        });\n        throw error;\n    }\n};\nexport const loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"initialize\",\n    override: true,\n};\nexport const getLoggerPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}