{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { DEFAULT_RETRY_DELAY_BASE } from \"./constants\";\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\nexport var ConfiguredRetryStrategy = /*#__PURE__*/function (_StandardRetryStrateg) {\n  _inherits(ConfiguredRetryStrategy, _StandardRetryStrateg);\n  var _super = _createSuper(ConfiguredRetryStrategy);\n  function ConfiguredRetryStrategy(maxAttempts) {\n    var _this;\n    var computeNextBackoffDelay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_RETRY_DELAY_BASE;\n    _classCallCheck(this, ConfiguredRetryStrategy);\n    _this = _super.call(this, typeof maxAttempts === \"function\" ? maxAttempts : /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", maxAttempts);\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    })));\n    if (typeof computeNextBackoffDelay === \"number\") {\n      _this.computeNextBackoffDelay = function () {\n        return computeNextBackoffDelay;\n      };\n    } else {\n      _this.computeNextBackoffDelay = computeNextBackoffDelay;\n    }\n    return _this;\n  }\n  _createClass(ConfiguredRetryStrategy, [{\n    key: \"refreshRetryTokenForRetry\",\n    value: function () {\n      var _refreshRetryTokenForRetry = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(tokenToRenew, errorInfo) {\n        var _this2 = this;\n        var token;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _get(_getPrototypeOf(ConfiguredRetryStrategy.prototype), \"refreshRetryTokenForRetry\", this).call(this, tokenToRenew, errorInfo);\n            case 2:\n              token = _context2.sent;\n              token.getRetryDelay = function () {\n                return _this2.computeNextBackoffDelay(token.getRetryCount());\n              };\n              return _context2.abrupt(\"return\", token);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function refreshRetryTokenForRetry(_x, _x2) {\n        return _refreshRetryTokenForRetry.apply(this, arguments);\n      }\n      return refreshRetryTokenForRetry;\n    }()\n  }]);\n  return ConfiguredRetryStrategy;\n}(StandardRetryStrategy);","map":{"version":3,"names":["DEFAULT_RETRY_DELAY_BASE","StandardRetryStrategy","ConfiguredRetryStrategy","_StandardRetryStrateg","_inherits","_super","_createSuper","maxAttempts","_this","computeNextBackoffDelay","arguments","length","undefined","_classCallCheck","call","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","_createClass","key","value","_refreshRetryTokenForRetry","_callee2","tokenToRenew","errorInfo","_this2","token","_callee2$","_context2","_get","_getPrototypeOf","prototype","sent","getRetryDelay","getRetryCount","refreshRetryTokenForRetry","_x","_x2","apply"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/util-retry/dist-es/ConfiguredRetryStrategy.js"],"sourcesContent":["import { DEFAULT_RETRY_DELAY_BASE } from \"./constants\";\nimport { StandardRetryStrategy } from \"./StandardRetryStrategy\";\nexport class ConfiguredRetryStrategy extends StandardRetryStrategy {\n    constructor(maxAttempts, computeNextBackoffDelay = DEFAULT_RETRY_DELAY_BASE) {\n        super(typeof maxAttempts === \"function\" ? maxAttempts : async () => maxAttempts);\n        if (typeof computeNextBackoffDelay === \"number\") {\n            this.computeNextBackoffDelay = () => computeNextBackoffDelay;\n        }\n        else {\n            this.computeNextBackoffDelay = computeNextBackoffDelay;\n        }\n    }\n    async refreshRetryTokenForRetry(tokenToRenew, errorInfo) {\n        const token = await super.refreshRetryTokenForRetry(tokenToRenew, errorInfo);\n        token.getRetryDelay = () => this.computeNextBackoffDelay(token.getRetryCount());\n        return token;\n    }\n}\n"],"mappings":";;;;;;;;AAAA,SAASA,wBAAwB,QAAQ,aAAa;AACtD,SAASC,qBAAqB,QAAQ,yBAAyB;AAC/D,WAAaC,uBAAuB,0BAAAC,qBAAA;EAAAC,SAAA,CAAAF,uBAAA,EAAAC,qBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,uBAAA;EAChC,SAAAA,wBAAYK,WAAW,EAAsD;IAAA,IAAAC,KAAA;IAAA,IAApDC,uBAAuB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGV,wBAAwB;IAAAa,eAAA,OAAAX,uBAAA;IACvEM,KAAA,GAAAH,MAAA,CAAAS,IAAA,OAAM,OAAOP,WAAW,KAAK,UAAU,GAAGA,WAAW,gBAAAQ,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA;MAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAA,OAAAF,QAAA,CAAAG,MAAA,WAAYjB,WAAW;UAAA;UAAA;YAAA,OAAAc,QAAA,CAAAI,IAAA;QAAA;MAAA,GAAAP,OAAA;IAAA;IAC/E,IAAI,OAAOT,uBAAuB,KAAK,QAAQ,EAAE;MAC7CD,KAAA,CAAKC,uBAAuB,GAAG;QAAA,OAAMA,uBAAuB;MAAA;IAChE,CAAC,MACI;MACDD,KAAA,CAAKC,uBAAuB,GAAGA,uBAAuB;IAC1D;IAAC,OAAAD,KAAA;EACL;EAACkB,YAAA,CAAAxB,uBAAA;IAAAyB,GAAA;IAAAC,KAAA;MAAA,IAAAC,0BAAA,GAAAd,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CACD,SAAAa,SAAgCC,YAAY,EAAEC,SAAS;QAAA,IAAAC,MAAA;QAAA,IAAAC,KAAA;QAAA,OAAAlB,mBAAA,GAAAG,IAAA,UAAAgB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAb,IAAA;YAAA;cAAAa,SAAA,CAAAb,IAAA;cAAA,OAAAc,IAAA,CAAAC,eAAA,CAAApC,uBAAA,CAAAqC,SAAA,sCAAAzB,IAAA,OACCiB,YAAY,EAAEC,SAAS;YAAA;cAArEE,KAAK,GAAAE,SAAA,CAAAI,IAAA;cACXN,KAAK,CAACO,aAAa,GAAG;gBAAA,OAAMR,MAAI,CAACxB,uBAAuB,CAACyB,KAAK,CAACQ,aAAa,EAAE,CAAC;cAAA;cAAC,OAAAN,SAAA,CAAAZ,MAAA,WACzEU,KAAK;YAAA;YAAA;cAAA,OAAAE,SAAA,CAAAX,IAAA;UAAA;QAAA,GAAAK,QAAA;MAAA,CACf;MAAA,SAAAa,0BAAAC,EAAA,EAAAC,GAAA;QAAA,OAAAhB,0BAAA,CAAAiB,KAAA,OAAApC,SAAA;MAAA;MAAA,OAAAiC,yBAAA;IAAA;EAAA;EAAA,OAAAzC,uBAAA;AAAA,EAdwCD,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}