{"ast":null,"code":"import _objectSpread from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { debugId, toDebugString } from \"../debug\";\nimport { evaluateConditions } from \"./evaluateConditions\";\nimport { getEndpointHeaders } from \"./getEndpointHeaders\";\nimport { getEndpointProperties } from \"./getEndpointProperties\";\nimport { getEndpointUrl } from \"./getEndpointUrl\";\nexport var evaluateEndpointRule = function evaluateEndpointRule(endpointRule, options) {\n  var _options$logger, _options$logger$debug;\n  var conditions = endpointRule.conditions,\n    endpoint = endpointRule.endpoint;\n  var _evaluateConditions = evaluateConditions(conditions, options),\n    result = _evaluateConditions.result,\n    referenceRecord = _evaluateConditions.referenceRecord;\n  if (!result) {\n    return;\n  }\n  var endpointRuleOptions = _objectSpread(_objectSpread({}, options), {}, {\n    referenceRecord: _objectSpread(_objectSpread({}, options.referenceRecord), referenceRecord)\n  });\n  var url = endpoint.url,\n    properties = endpoint.properties,\n    headers = endpoint.headers;\n  (_options$logger = options.logger) === null || _options$logger === void 0 ? void 0 : (_options$logger$debug = _options$logger.debug) === null || _options$logger$debug === void 0 ? void 0 : _options$logger$debug.call(_options$logger, debugId, \"Resolving endpoint from template: \".concat(toDebugString(endpoint)));\n  return _objectSpread(_objectSpread(_objectSpread({}, headers != undefined && {\n    headers: getEndpointHeaders(headers, endpointRuleOptions)\n  }), properties != undefined && {\n    properties: getEndpointProperties(properties, endpointRuleOptions)\n  }), {}, {\n    url: getEndpointUrl(url, endpointRuleOptions)\n  });\n};","map":{"version":3,"names":["debugId","toDebugString","evaluateConditions","getEndpointHeaders","getEndpointProperties","getEndpointUrl","evaluateEndpointRule","endpointRule","options","_options$logger","_options$logger$debug","conditions","endpoint","_evaluateConditions","result","referenceRecord","endpointRuleOptions","_objectSpread","url","properties","headers","logger","debug","call","concat","undefined"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/util-endpoints/dist-es/utils/evaluateEndpointRule.js"],"sourcesContent":["import { debugId, toDebugString } from \"../debug\";\nimport { evaluateConditions } from \"./evaluateConditions\";\nimport { getEndpointHeaders } from \"./getEndpointHeaders\";\nimport { getEndpointProperties } from \"./getEndpointProperties\";\nimport { getEndpointUrl } from \"./getEndpointUrl\";\nexport const evaluateEndpointRule = (endpointRule, options) => {\n    const { conditions, endpoint } = endpointRule;\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\n    if (!result) {\n        return;\n    }\n    const endpointRuleOptions = {\n        ...options,\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\n    };\n    const { url, properties, headers } = endpoint;\n    options.logger?.debug?.(debugId, `Resolving endpoint from template: ${toDebugString(endpoint)}`);\n    return {\n        ...(headers != undefined && {\n            headers: getEndpointHeaders(headers, endpointRuleOptions),\n        }),\n        ...(properties != undefined && {\n            properties: getEndpointProperties(properties, endpointRuleOptions),\n        }),\n        url: getEndpointUrl(url, endpointRuleOptions),\n    };\n};\n"],"mappings":";AAAA,SAASA,OAAO,EAAEC,aAAa,QAAQ,UAAU;AACjD,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,SAASC,qBAAqB,QAAQ,yBAAyB;AAC/D,SAASC,cAAc,QAAQ,kBAAkB;AACjD,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,YAAY,EAAEC,OAAO,EAAK;EAAA,IAAAC,eAAA,EAAAC,qBAAA;EAC3D,IAAQC,UAAU,GAAeJ,YAAY,CAArCI,UAAU;IAAEC,QAAQ,GAAKL,YAAY,CAAzBK,QAAQ;EAC5B,IAAAC,mBAAA,GAAoCX,kBAAkB,CAACS,UAAU,EAAEH,OAAO,CAAC;IAAnEM,MAAM,GAAAD,mBAAA,CAANC,MAAM;IAAEC,eAAe,GAAAF,mBAAA,CAAfE,eAAe;EAC/B,IAAI,CAACD,MAAM,EAAE;IACT;EACJ;EACA,IAAME,mBAAmB,GAAAC,aAAA,CAAAA,aAAA,KAClBT,OAAO;IACVO,eAAe,EAAAE,aAAA,CAAAA,aAAA,KAAOT,OAAO,CAACO,eAAe,GAAKA,eAAe;EAAE,EACtE;EACD,IAAQG,GAAG,GAA0BN,QAAQ,CAArCM,GAAG;IAAEC,UAAU,GAAcP,QAAQ,CAAhCO,UAAU;IAAEC,OAAO,GAAKR,QAAQ,CAApBQ,OAAO;EAChC,CAAAX,eAAA,GAAAD,OAAO,CAACa,MAAM,cAAAZ,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBa,KAAK,cAAAZ,qBAAA,uBAArBA,qBAAA,CAAAa,IAAA,CAAAd,eAAA,EAAwBT,OAAO,uCAAAwB,MAAA,CAAuCvB,aAAa,CAACW,QAAQ,CAAC,EAAG;EAChG,OAAAK,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACQG,OAAO,IAAIK,SAAS,IAAI;IACxBL,OAAO,EAAEjB,kBAAkB,CAACiB,OAAO,EAAEJ,mBAAmB;EAC5D,CAAC,GACGG,UAAU,IAAIM,SAAS,IAAI;IAC3BN,UAAU,EAAEf,qBAAqB,CAACe,UAAU,EAAEH,mBAAmB;EACrE,CAAC;IACDE,GAAG,EAAEb,cAAc,CAACa,GAAG,EAAEF,mBAAmB;EAAC;AAErD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}