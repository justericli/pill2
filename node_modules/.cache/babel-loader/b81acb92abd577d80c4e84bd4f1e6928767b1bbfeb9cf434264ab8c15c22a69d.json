{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport var memoize = function memoize(provider, isExpired, requiresRefresh) {\n  var resolved;\n  var pending;\n  var hasResult;\n  var isConstant = false;\n  var coalesceProvider = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!pending) {\n              pending = provider();\n            }\n            _context.prev = 1;\n            _context.next = 4;\n            return pending;\n          case 4:\n            resolved = _context.sent;\n            hasResult = true;\n            isConstant = false;\n          case 7:\n            _context.prev = 7;\n            pending = undefined;\n            return _context.finish(7);\n          case 10:\n            return _context.abrupt(\"return\", resolved);\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1,, 7, 10]]);\n    }));\n    return function coalesceProvider() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  if (isExpired === undefined) {\n    return /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(options) {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(!hasResult || options !== null && options !== void 0 && options.forceRefresh)) {\n                _context2.next = 4;\n                break;\n              }\n              _context2.next = 3;\n              return coalesceProvider();\n            case 3:\n              resolved = _context2.sent;\n            case 4:\n              return _context2.abrupt(\"return\", resolved);\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  }\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(options) {\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(!hasResult || options !== null && options !== void 0 && options.forceRefresh)) {\n              _context3.next = 4;\n              break;\n            }\n            _context3.next = 3;\n            return coalesceProvider();\n          case 3:\n            resolved = _context3.sent;\n          case 4:\n            if (!isConstant) {\n              _context3.next = 6;\n              break;\n            }\n            return _context3.abrupt(\"return\", resolved);\n          case 6:\n            if (!(requiresRefresh && !requiresRefresh(resolved))) {\n              _context3.next = 9;\n              break;\n            }\n            isConstant = true;\n            return _context3.abrupt(\"return\", resolved);\n          case 9:\n            if (!isExpired(resolved)) {\n              _context3.next = 13;\n              break;\n            }\n            _context3.next = 12;\n            return coalesceProvider();\n          case 12:\n            return _context3.abrupt(\"return\", resolved);\n          case 13:\n            return _context3.abrupt(\"return\", resolved);\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["memoize","provider","isExpired","requiresRefresh","resolved","pending","hasResult","isConstant","coalesceProvider","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","undefined","finish","abrupt","stop","apply","arguments","_ref2","_callee2","options","_callee2$","_context2","forceRefresh","_x","_ref3","_callee3","_callee3$","_context3","_x2"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/property-provider/dist-es/memoize.js"],"sourcesContent":["export const memoize = (provider, isExpired, requiresRefresh) => {\n    let resolved;\n    let pending;\n    let hasResult;\n    let isConstant = false;\n    const coalesceProvider = async () => {\n        if (!pending) {\n            pending = provider();\n        }\n        try {\n            resolved = await pending;\n            hasResult = true;\n            isConstant = false;\n        }\n        finally {\n            pending = undefined;\n        }\n        return resolved;\n    };\n    if (isExpired === undefined) {\n        return async (options) => {\n            if (!hasResult || options?.forceRefresh) {\n                resolved = await coalesceProvider();\n            }\n            return resolved;\n        };\n    }\n    return async (options) => {\n        if (!hasResult || options?.forceRefresh) {\n            resolved = await coalesceProvider();\n        }\n        if (isConstant) {\n            return resolved;\n        }\n        if (requiresRefresh && !requiresRefresh(resolved)) {\n            isConstant = true;\n            return resolved;\n        }\n        if (isExpired(resolved)) {\n            await coalesceProvider();\n            return resolved;\n        }\n        return resolved;\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}