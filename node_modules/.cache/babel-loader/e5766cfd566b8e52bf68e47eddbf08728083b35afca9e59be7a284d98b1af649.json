{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nexport var retryMiddleware = function (options) {\n  return function (next) {\n    return function (args) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2 /*return*/, options.retryStrategy.retry(next, args)];\n        });\n      });\n    };\n  };\n};\nexport var retryMiddlewareOptions = {\n  name: \"retryMiddleware\",\n  tags: [\"RETRY\"],\n  step: \"finalizeRequest\",\n  priority: \"high\"\n};\nexport var getRetryPlugin = function (options) {\n  return {\n    applyToStack: function (clientStack) {\n      clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"names":["retryMiddleware","options","next","args","__awaiter","__generator","_a","retryStrategy","retry","retryMiddlewareOptions","name","tags","step","priority","getRetryPlugin","applyToStack","clientStack","add"],"sources":["/Users/ericli/node_modules/@aws-sdk/client-kinesis/node_modules/@aws-sdk/middleware-retry/src/retryMiddleware.ts"],"sourcesContent":["import {\n  AbsoluteLocation,\n  FinalizeHandler,\n  FinalizeHandlerArguments,\n  FinalizeHandlerOutput,\n  FinalizeRequestHandlerOptions,\n  MetadataBearer,\n  Pluggable,\n} from \"@aws-sdk/types\";\n\nimport { RetryResolvedConfig } from \"./configurations\";\n\nexport const retryMiddleware = (options: RetryResolvedConfig) => <Output extends MetadataBearer = MetadataBearer>(\n  next: FinalizeHandler<any, Output>\n): FinalizeHandler<any, Output> => async (\n  args: FinalizeHandlerArguments<any>\n): Promise<FinalizeHandlerOutput<Output>> => options.retryStrategy.retry(next, args);\n\nexport const retryMiddlewareOptions: FinalizeRequestHandlerOptions & AbsoluteLocation = {\n  name: \"retryMiddleware\",\n  tags: [\"RETRY\"],\n  step: \"finalizeRequest\",\n  priority: \"high\",\n};\n\nexport const getRetryPlugin = (options: RetryResolvedConfig): Pluggable<any, any> => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n  },\n});\n"],"mappings":";AAYA,OAAO,IAAMA,eAAe,GAAG,SAAAA,CAACC,OAA4B;EAAK,iBAC/DC,IAAkC;IACD,iBACjCC,IAAmC;MAAA,OAAAC,SAAA;QAAA,OAAAC,WAAA,iBAAAC,EAAA;UACQ,sBAAAL,OAAO,CAACM,aAAa,CAACC,KAAK,CAACN,IAAI,EAAEC,IAAI,CAAC;;;KAAA;EAFjD,CAEiD;AAJnB,CAImB;AAEpF,OAAO,IAAMM,sBAAsB,GAAqD;EACtFC,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,CAAC,OAAO,CAAC;EACfC,IAAI,EAAE,iBAAiB;EACvBC,QAAQ,EAAE;CACX;AAED,OAAO,IAAMC,cAAc,GAAG,SAAAA,CAACb,OAA4B;EAA0B,OAAC;IACpFc,YAAY,EAAE,SAAAA,CAACC,WAAW;MACxBA,WAAW,CAACC,GAAG,CAACjB,eAAe,CAACC,OAAO,CAAC,EAAEQ,sBAAsB,CAAC;IACnE;GACD;AAJoF,CAInF"},"metadata":{},"sourceType":"module","externalDependencies":[]}