{"ast":null,"code":"var _jsxFileName = \"/Users/ericli/Desktop/pill2/src/components/Untitled-1.js\",\n  _s = $RefreshSig$();\n/* global FB */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport { AccountContext } from \"./User_Account.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst User_login = () => {\n  _s();\n  const [status, setStatus] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    authenticate,\n    setAuthenticated\n  } = useContext(AccountContext);\n  const statusChangeCallback = response => {\n    console.log(\"statusChangeCallback\");\n    console.log(response);\n    if (response.status === \"connected\") {\n      testAPI();\n    } else {\n      setStatus(\"Please log into this webpage.\");\n    }\n  };\n  const checkLoginState = () => {\n    FB.getLoginStatus(response => {\n      statusChangeCallback(response);\n    });\n  };\n  const testAPI = () => {\n    console.log(\"Welcome!  Fetching your information.... \");\n    FB.api(\"/me\", response => {\n      console.log(\"Successful login for: \" + response.name);\n      setStatus(\"Thanks for logging in, \" + response.name + \"!\");\n    });\n  };\n  useEffect(() => {\n    window.fbAsyncInit = () => {\n      FB.init({\n        appId: \"{app-id}\",\n        // replace with your app id\n        cookie: true,\n        xfbml: true,\n        version: \"{api-version}\" // replace with your api version\n      });\n\n      FB.getLoginStatus(response => {\n        statusChangeCallback(response);\n      });\n    };\n    if (window.FB) {\n      window.fbAsyncInit();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: checkLoginState,\n      children: \"Login with Facebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"status\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(User_login, \"VIY59OrqFTWZxXONEUmTof6Ah+I=\", false, function () {\n  return [useNavigate];\n});\n_c = User_login;\nexport default User_login;\nvar _c;\n$RefreshReg$(_c, \"User_login\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","Auth","AccountContext","jsxDEV","_jsxDEV","User_login","_s","status","setStatus","navigate","authenticate","setAuthenticated","statusChangeCallback","response","console","log","testAPI","checkLoginState","FB","getLoginStatus","api","name","window","fbAsyncInit","init","appId","cookie","xfbml","version","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/ericli/Desktop/pill2/src/components/Untitled-1.js"],"sourcesContent":["/* global FB */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport { AccountContext } from \"./User_Account.jsx\";\n\nconst User_login = () => {\n  const [status, setStatus] = useState(\"\");\n  const navigate = useNavigate();\n  const { authenticate, setAuthenticated } = useContext(AccountContext);\n\n  const statusChangeCallback = (response) => {\n    console.log(\"statusChangeCallback\");\n    console.log(response);\n\n    if (response.status === \"connected\") {\n      testAPI();\n    } else {\n      setStatus(\"Please log into this webpage.\");\n    }\n  };\n\n  const checkLoginState = () => {\n    FB.getLoginStatus((response) => {\n      statusChangeCallback(response);\n    });\n  };\n\n  const testAPI = () => {\n    console.log(\"Welcome!  Fetching your information.... \");\n    FB.api(\"/me\", (response) => {\n      console.log(\"Successful login for: \" + response.name);\n      setStatus(\"Thanks for logging in, \" + response.name + \"!\");\n    });\n  };\n\n  useEffect(() => {\n    window.fbAsyncInit = () => {\n      FB.init({\n        appId: \"{app-id}\", // replace with your app id\n        cookie: true,\n        xfbml: true,\n        version: \"{api-version}\", // replace with your api version\n      });\n\n      FB.getLoginStatus((response) => {\n        statusChangeCallback(response);\n      });\n    };\n\n    if (window.FB) {\n      window.fbAsyncInit();\n    }\n  }, []);\n\n  return (\n    <div>\n      <button onClick={checkLoginState}>Login with Facebook</button>\n      <div id=\"status\">{status}</div>\n    </div>\n  );\n};\n\nexport default User_login;\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,IAAI,QAAQ,aAAa;AAClC,SAASC,cAAc,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAMY,QAAQ,GAAGT,WAAW,EAAE;EAC9B,MAAM;IAAEU,YAAY;IAAEC;EAAiB,CAAC,GAAGZ,UAAU,CAACG,cAAc,CAAC;EAErE,MAAMU,oBAAoB,GAAIC,QAAQ,IAAK;IACzCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnCD,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IAErB,IAAIA,QAAQ,CAACN,MAAM,KAAK,WAAW,EAAE;MACnCS,OAAO,EAAE;IACX,CAAC,MAAM;MACLR,SAAS,CAAC,+BAA+B,CAAC;IAC5C;EACF,CAAC;EAED,MAAMS,eAAe,GAAGA,CAAA,KAAM;IAC5BC,EAAE,CAACC,cAAc,CAAEN,QAAQ,IAAK;MAC9BD,oBAAoB,CAACC,QAAQ,CAAC;IAChC,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,OAAO,GAAGA,CAAA,KAAM;IACpBF,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;IACvDG,EAAE,CAACE,GAAG,CAAC,KAAK,EAAGP,QAAQ,IAAK;MAC1BC,OAAO,CAACC,GAAG,CAAC,wBAAwB,GAAGF,QAAQ,CAACQ,IAAI,CAAC;MACrDb,SAAS,CAAC,yBAAyB,GAAGK,QAAQ,CAACQ,IAAI,GAAG,GAAG,CAAC;IAC5D,CAAC,CAAC;EACJ,CAAC;EAEDvB,SAAS,CAAC,MAAM;IACdwB,MAAM,CAACC,WAAW,GAAG,MAAM;MACzBL,EAAE,CAACM,IAAI,CAAC;QACNC,KAAK,EAAE,UAAU;QAAE;QACnBC,MAAM,EAAE,IAAI;QACZC,KAAK,EAAE,IAAI;QACXC,OAAO,EAAE,eAAe,CAAE;MAC5B,CAAC,CAAC;;MAEFV,EAAE,CAACC,cAAc,CAAEN,QAAQ,IAAK;QAC9BD,oBAAoB,CAACC,QAAQ,CAAC;MAChC,CAAC,CAAC;IACJ,CAAC;IAED,IAAIS,MAAM,CAACJ,EAAE,EAAE;MACbI,MAAM,CAACC,WAAW,EAAE;IACtB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEnB,OAAA;IAAAyB,QAAA,gBACEzB,OAAA;MAAQ0B,OAAO,EAAEb,eAAgB;MAAAY,QAAA,EAAC;IAAmB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eAC9D9B,OAAA;MAAK+B,EAAE,EAAC,QAAQ;MAAAN,QAAA,EAAEtB;IAAM;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAO;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAC3B;AAEV,CAAC;AAAC5B,EAAA,CAvDID,UAAU;EAAA,QAEGL,WAAW;AAAA;AAAAoC,EAAA,GAFxB/B,UAAU;AAyDhB,eAAeA,UAAU;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}