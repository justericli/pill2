{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport function locationConstraintMiddleware(options) {\n  return function (next) {\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(args) {\n        var CreateBucketConfiguration, region;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              CreateBucketConfiguration = args.input.CreateBucketConfiguration;\n              _context.next = 3;\n              return options.region();\n            case 3:\n              region = _context.sent;\n              if (!CreateBucketConfiguration || !CreateBucketConfiguration.LocationConstraint) {\n                args = _objectSpread(_objectSpread({}, args), {}, {\n                  input: _objectSpread(_objectSpread({}, args.input), {}, {\n                    CreateBucketConfiguration: region === \"us-east-1\" ? undefined : {\n                      LocationConstraint: region\n                    }\n                  })\n                });\n              }\n              return _context.abrupt(\"return\", next(args));\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  };\n}\nexport var locationConstraintMiddlewareOptions = {\n  step: \"initialize\",\n  tags: [\"LOCATION_CONSTRAINT\", \"CREATE_BUCKET_CONFIGURATION\"],\n  name: \"locationConstraintMiddleware\",\n  override: true\n};\nexport var getLocationConstraintPlugin = function getLocationConstraintPlugin(config) {\n  return {\n    applyToStack: function applyToStack(clientStack) {\n      clientStack.add(locationConstraintMiddleware(config), locationConstraintMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"names":["locationConstraintMiddleware","options","next","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","args","CreateBucketConfiguration","region","wrap","_callee$","_context","prev","input","sent","LocationConstraint","_objectSpread","undefined","abrupt","stop","_x","apply","arguments","locationConstraintMiddlewareOptions","step","tags","name","override","getLocationConstraintPlugin","config","applyToStack","clientStack","add"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/middleware-location-constraint/dist-es/index.js"],"sourcesContent":["export function locationConstraintMiddleware(options) {\n    return (next) => async (args) => {\n        const { CreateBucketConfiguration } = args.input;\n        const region = await options.region();\n        if (!CreateBucketConfiguration || !CreateBucketConfiguration.LocationConstraint) {\n            args = {\n                ...args,\n                input: {\n                    ...args.input,\n                    CreateBucketConfiguration: region === \"us-east-1\" ? undefined : { LocationConstraint: region },\n                },\n            };\n        }\n        return next(args);\n    };\n}\nexport const locationConstraintMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"LOCATION_CONSTRAINT\", \"CREATE_BUCKET_CONFIGURATION\"],\n    name: \"locationConstraintMiddleware\",\n    override: true,\n};\nexport const getLocationConstraintPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(locationConstraintMiddleware(config), locationConstraintMiddlewareOptions);\n    },\n});\n"],"mappings":";;;AAAA,OAAO,SAASA,4BAA4BA,CAACC,OAAO,EAAE;EAClD,OAAO,UAACC,IAAI;IAAA;MAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOC,IAAI;QAAA,IAAAC,yBAAA,EAAAC,MAAA;QAAA,OAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAX,IAAA;YAAA;cAChBO,yBAAyB,GAAKD,IAAI,CAACO,KAAK,CAAxCN,yBAAyB;cAAAI,QAAA,CAAAX,IAAA;cAAA,OACZD,OAAO,CAACS,MAAM,EAAE;YAAA;cAA/BA,MAAM,GAAAG,QAAA,CAAAG,IAAA;cACZ,IAAI,CAACP,yBAAyB,IAAI,CAACA,yBAAyB,CAACQ,kBAAkB,EAAE;gBAC7ET,IAAI,GAAAU,aAAA,CAAAA,aAAA,KACGV,IAAI;kBACPO,KAAK,EAAAG,aAAA,CAAAA,aAAA,KACEV,IAAI,CAACO,KAAK;oBACbN,yBAAyB,EAAEC,MAAM,KAAK,WAAW,GAAGS,SAAS,GAAG;sBAAEF,kBAAkB,EAAEP;oBAAO;kBAAC;gBACjG,EACJ;cACL;cAAC,OAAAG,QAAA,CAAAO,MAAA,WACMlB,IAAI,CAACM,IAAI,CAAC;YAAA;YAAA;cAAA,OAAAK,QAAA,CAAAQ,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA,CACpB;MAAA,iBAAAe,EAAA;QAAA,OAAAnB,IAAA,CAAAoB,KAAA,OAAAC,SAAA;MAAA;IAAA;EAAA;AACL;AACA,OAAO,IAAMC,mCAAmC,GAAG;EAC/CC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,CAAC,qBAAqB,EAAE,6BAA6B,CAAC;EAC5DC,IAAI,EAAE,8BAA8B;EACpCC,QAAQ,EAAE;AACd,CAAC;AACD,OAAO,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIC,MAAM;EAAA,OAAM;IACpDC,YAAY,EAAE,SAAAA,aAACC,WAAW,EAAK;MAC3BA,WAAW,CAACC,GAAG,CAAClC,4BAA4B,CAAC+B,MAAM,CAAC,EAAEN,mCAAmC,CAAC;IAC9F;EACJ,CAAC;AAAA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}