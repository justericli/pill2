{"ast":null,"code":"import { HttpRequest } from \"@aws-sdk/protocol-http\";\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nexport function checkContentLengthHeader() {\n  return (next, context) => async args => {\n    const {\n      request\n    } = args;\n    if (HttpRequest.isInstance(request)) {\n      if (!request.headers[CONTENT_LENGTH_HEADER]) {\n        const message = `Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.`;\n        if (typeof context?.logger?.warn === \"function\") {\n          context.logger.warn(message);\n        } else {\n          console.warn(message);\n        }\n      }\n    }\n    return next({\n      ...args\n    });\n  };\n}\nexport const checkContentLengthHeaderMiddlewareOptions = {\n  step: \"finalizeRequest\",\n  tags: [\"CHECK_CONTENT_LENGTH_HEADER\"],\n  name: \"getCheckContentLengthHeaderPlugin\",\n  override: true\n};\nexport const getCheckContentLengthHeaderPlugin = unused => ({\n  applyToStack: clientStack => {\n    clientStack.add(checkContentLengthHeader(), checkContentLengthHeaderMiddlewareOptions);\n  }\n});","map":{"version":3,"names":["HttpRequest","CONTENT_LENGTH_HEADER","checkContentLengthHeader","next","context","args","request","isInstance","headers","message","logger","warn","console","checkContentLengthHeaderMiddlewareOptions","step","tags","name","override","getCheckContentLengthHeaderPlugin","unused","applyToStack","clientStack","add"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/check-content-length-header.js"],"sourcesContent":["import { HttpRequest } from \"@aws-sdk/protocol-http\";\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nexport function checkContentLengthHeader() {\n    return (next, context) => async (args) => {\n        const { request } = args;\n        if (HttpRequest.isInstance(request)) {\n            if (!request.headers[CONTENT_LENGTH_HEADER]) {\n                const message = `Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.`;\n                if (typeof context?.logger?.warn === \"function\") {\n                    context.logger.warn(message);\n                }\n                else {\n                    console.warn(message);\n                }\n            }\n        }\n        return next({ ...args });\n    };\n}\nexport const checkContentLengthHeaderMiddlewareOptions = {\n    step: \"finalizeRequest\",\n    tags: [\"CHECK_CONTENT_LENGTH_HEADER\"],\n    name: \"getCheckContentLengthHeaderPlugin\",\n    override: true,\n};\nexport const getCheckContentLengthHeaderPlugin = (unused) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(checkContentLengthHeader(), checkContentLengthHeaderMiddlewareOptions);\n    },\n});\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,wBAAwB;AACpD,MAAMC,qBAAqB,GAAG,gBAAgB;AAC9C,OAAO,SAASC,wBAAwBA,CAAA,EAAG;EACvC,OAAO,CAACC,IAAI,EAAEC,OAAO,KAAK,MAAOC,IAAI,IAAK;IACtC,MAAM;MAAEC;IAAQ,CAAC,GAAGD,IAAI;IACxB,IAAIL,WAAW,CAACO,UAAU,CAACD,OAAO,CAAC,EAAE;MACjC,IAAI,CAACA,OAAO,CAACE,OAAO,CAACP,qBAAqB,CAAC,EAAE;QACzC,MAAMQ,OAAO,GAAI,uIAAsI;QACvJ,IAAI,OAAOL,OAAO,EAAEM,MAAM,EAAEC,IAAI,KAAK,UAAU,EAAE;UAC7CP,OAAO,CAACM,MAAM,CAACC,IAAI,CAACF,OAAO,CAAC;QAChC,CAAC,MACI;UACDG,OAAO,CAACD,IAAI,CAACF,OAAO,CAAC;QACzB;MACJ;IACJ;IACA,OAAON,IAAI,CAAC;MAAE,GAAGE;IAAK,CAAC,CAAC;EAC5B,CAAC;AACL;AACA,OAAO,MAAMQ,yCAAyC,GAAG;EACrDC,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,CAAC,6BAA6B,CAAC;EACrCC,IAAI,EAAE,mCAAmC;EACzCC,QAAQ,EAAE;AACd,CAAC;AACD,OAAO,MAAMC,iCAAiC,GAAIC,MAAM,KAAM;EAC1DC,YAAY,EAAGC,WAAW,IAAK;IAC3BA,WAAW,CAACC,GAAG,CAACpB,wBAAwB,EAAE,EAAEW,yCAAyC,CAAC;EAC1F;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}