{"ast":null,"code":"import _objectSpread from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { cloneRequest } from \"./cloneRequest\";\nexport var moveHeadersToQuery = function moveHeadersToQuery(request) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _ref = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request),\n    headers = _ref.headers,\n    _ref$query = _ref.query,\n    query = _ref$query === void 0 ? {} : _ref$query;\n  for (var _i = 0, _Object$keys = Object.keys(headers); _i < _Object$keys.length; _i++) {\n    var _options$unhoistableH;\n    var name = _Object$keys[_i];\n    var lname = name.toLowerCase();\n    if (lname.slice(0, 6) === \"x-amz-\" && !((_options$unhoistableH = options.unhoistableHeaders) !== null && _options$unhoistableH !== void 0 && _options$unhoistableH.has(lname))) {\n      query[name] = headers[name];\n      delete headers[name];\n    }\n  }\n  return _objectSpread(_objectSpread({}, request), {}, {\n    headers: headers,\n    query: query\n  });\n};","map":{"version":3,"names":["cloneRequest","moveHeadersToQuery","request","options","arguments","length","undefined","_ref","clone","headers","_ref$query","query","_i","_Object$keys","Object","keys","_options$unhoistableH","name","lname","toLowerCase","slice","unhoistableHeaders","has","_objectSpread"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/signature-v4/dist-es/moveHeadersToQuery.js"],"sourcesContent":["import { cloneRequest } from \"./cloneRequest\";\nexport const moveHeadersToQuery = (request, options = {}) => {\n    const { headers, query = {} } = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request);\n    for (const name of Object.keys(headers)) {\n        const lname = name.toLowerCase();\n        if (lname.slice(0, 6) === \"x-amz-\" && !options.unhoistableHeaders?.has(lname)) {\n            query[name] = headers[name];\n            delete headers[name];\n        }\n    }\n    return {\n        ...request,\n        headers,\n        query,\n    };\n};\n"],"mappings":";AAAA,SAASA,YAAY,QAAQ,gBAAgB;AAC7C,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,OAAO,EAAmB;EAAA,IAAjBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACpD,IAAAG,IAAA,GAAgC,OAAOL,OAAO,CAACM,KAAK,KAAK,UAAU,GAAGN,OAAO,CAACM,KAAK,EAAE,GAAGR,YAAY,CAACE,OAAO,CAAC;IAArGO,OAAO,GAAAF,IAAA,CAAPE,OAAO;IAAAC,UAAA,GAAAH,IAAA,CAAEI,KAAK;IAALA,KAAK,GAAAD,UAAA,cAAG,CAAC,CAAC,GAAAA,UAAA;EAC3B,SAAAE,EAAA,MAAAC,YAAA,GAAmBC,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,EAAAG,EAAA,GAAAC,YAAA,CAAAR,MAAA,EAAAO,EAAA,IAAE;IAAA,IAAAI,qBAAA;IAApC,IAAMC,IAAI,GAAAJ,YAAA,CAAAD,EAAA;IACX,IAAMM,KAAK,GAAGD,IAAI,CAACE,WAAW,EAAE;IAChC,IAAID,KAAK,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,QAAQ,IAAI,GAAAJ,qBAAA,GAACb,OAAO,CAACkB,kBAAkB,cAAAL,qBAAA,eAA1BA,qBAAA,CAA4BM,GAAG,CAACJ,KAAK,CAAC,GAAE;MAC3EP,KAAK,CAACM,IAAI,CAAC,GAAGR,OAAO,CAACQ,IAAI,CAAC;MAC3B,OAAOR,OAAO,CAACQ,IAAI,CAAC;IACxB;EACJ;EACA,OAAAM,aAAA,CAAAA,aAAA,KACOrB,OAAO;IACVO,OAAO,EAAPA,OAAO;IACPE,KAAK,EAALA;EAAK;AAEb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}