{"ast":null,"code":"var _jsxFileName = \"/Users/ericli/Desktop/pill2/src/components/Untitled-1.js\",\n  _s = $RefreshSig$();\nimport React, { memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SDK_URL = \"https://connect.facebook.net/en_EN/sdk.js\";\nconst SCRIPT_ID = \"facebook-jssdk\";\nconst _window = window;\nconst LoginSocialFacebook = _ref => {\n  _s();\n  let {\n    appId = \"730655258288890\",\n    // Replace with your Facebook App ID\n    scope = \"email,public_profile\",\n    state = true,\n    xfbml = true,\n    cookie = true,\n    version = \"v2.7\",\n    language = \"en_EN\",\n    auth_type = \"\",\n    className,\n    onLoginStart,\n    onReject,\n    onResolve,\n    redirect_uri,\n    fieldsProfile = \"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender\",\n    response_type = \"code\",\n    return_scopes = true,\n    isOnlyGetToken = false,\n    children\n  } = _ref;\n  const scriptNodeRef = useRef(null);\n  const [isSdkLoaded, setIsSdkLoaded] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  useEffect(() => {\n    if (!isSdkLoaded) {\n      load();\n    }\n  }, [isSdkLoaded]);\n  useEffect(() => {\n    return () => {\n      if (scriptNodeRef.current) scriptNodeRef.current.remove();\n    };\n  }, []);\n  const insertSDKScript = useCallback((document, cb) => {\n    const fbScriptTag = document.createElement(\"script\");\n    fbScriptTag.id = SCRIPT_ID;\n    fbScriptTag.src = SDK_URL;\n    const scriptNode = document.getElementsByTagName(\"script\")[0];\n    if (scriptNode && scriptNode.parentNode) {\n      scriptNode.parentNode.insertBefore(fbScriptTag, scriptNode);\n    }\n    cb();\n  }, []);\n  const checkIsExistsSDKScript = useCallback(() => {\n    return !!document.getElementById(SCRIPT_ID);\n  }, []);\n  const initFbSDK = useCallback(config => {\n    _window.fbAsyncInit = function () {\n      if (_window.FB) {\n        _window.FB.init({\n          ...config\n        });\n      }\n      setIsSdkLoaded(true);\n      const fbRoot = document.getElementById(\"fb-root\");\n      if (!fbRoot) {\n        const newFbRoot = document.createElement(\"div\");\n        newFbRoot.id = \"fb-root\";\n        document.body.appendChild(newFbRoot);\n        scriptNodeRef.current = newFbRoot;\n      }\n    };\n  }, []);\n  const getMe = useCallback(authResponse => {\n    _window.FB.api(\"/me\", {\n      locale: language,\n      fields: fieldsProfile\n    }, me => {\n      if (typeof onResolve === \"function\") {\n        onResolve({\n          provider: \"facebook\",\n          data: {\n            ...authResponse,\n            ...me\n          }\n        });\n      }\n    });\n  }, [fieldsProfile, language, onResolve]);\n  const handleResponse = useCallback(response => {\n    if (response.authResponse) {\n      if (isOnlyGetToken && typeof onResolve === \"function\") {\n        onResolve({\n          provider: \"facebook\",\n          data: {\n            ...response.authResponse\n          }\n        });\n      } else {\n        getMe(response.authResponse);\n      }\n    } else {\n      if (typeof onReject === \"function\") {\n        onReject(response);\n      }\n    }\n    setIsProcessing(false);\n  }, [getMe, isOnlyGetToken, onReject, onResolve]);\n  const load = useCallback(() => {\n    if (checkIsExistsSDKScript()) {\n      setIsSdkLoaded(true);\n    } else {\n      insertSDKScript(document, () => {\n        initFbSDK({\n          appId,\n          xfbml,\n          version,\n          state,\n          cookie,\n          redirect_uri,\n          response_type\n        });\n      });\n    }\n  }, [state, appId, xfbml, cookie, version, initFbSDK, redirect_uri, response_type, insertSDKScript, checkIsExistsSDKScript]);\n  const loginFB = useCallback(() => {\n    if (!isSdkLoaded || isProcessing) return;\n    if (!_window.FB) {\n      load();\n      onReject(\"Fb isn't loaded!\");\n      setIsProcessing(false);\n    } else {\n      setIsProcessing(true);\n      if (onLoginStart) onLoginStart();\n      _window.FB.login(handleResponse, {\n        scope,\n        return_scopes,\n        auth_type,\n        access_token: \"YOUR_ACCESS_TOKEN\"\n      });\n    }\n  }, [load, scope, onReject, auth_type, isSdkLoaded, onLoginStart, isProcessing, return_scopes, handleResponse]);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: loginFB,\n    className: className,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginSocialFacebook, \"V7B8p3rMS9NVkzd4k2y2AnwFgYU=\");\n_c = LoginSocialFacebook;\nexport default _c2 = /*#__PURE__*/memo(LoginSocialFacebook);\nvar _c, _c2;\n$RefreshReg$(_c, \"LoginSocialFacebook\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","memo","useCallback","useEffect","useRef","useState","jsxDEV","_jsxDEV","SDK_URL","SCRIPT_ID","_window","window","LoginSocialFacebook","_ref","_s","appId","scope","state","xfbml","cookie","version","language","auth_type","className","onLoginStart","onReject","onResolve","redirect_uri","fieldsProfile","response_type","return_scopes","isOnlyGetToken","children","scriptNodeRef","isSdkLoaded","setIsSdkLoaded","isProcessing","setIsProcessing","load","current","remove","insertSDKScript","document","cb","fbScriptTag","createElement","id","src","scriptNode","getElementsByTagName","parentNode","insertBefore","checkIsExistsSDKScript","getElementById","initFbSDK","config","fbAsyncInit","FB","init","fbRoot","newFbRoot","body","appendChild","getMe","authResponse","api","locale","fields","me","provider","data","handleResponse","response","loginFB","login","access_token","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","_c2","$RefreshReg$"],"sources":["/Users/ericli/Desktop/pill2/src/components/Untitled-1.js"],"sourcesContent":["import React, { memo, useCallback, useEffect, useRef, useState } from \"react\";\n\nconst SDK_URL = \"https://connect.facebook.net/en_EN/sdk.js\";\nconst SCRIPT_ID = \"facebook-jssdk\";\nconst _window = window;\n\nconst LoginSocialFacebook = ({\n  appId = \"730655258288890\", // Replace with your Facebook App ID\n  scope = \"email,public_profile\",\n  state = true,\n  xfbml = true,\n  cookie = true,\n  version = \"v2.7\",\n  language = \"en_EN\",\n  auth_type = \"\",\n  className,\n  onLoginStart,\n  onReject,\n  onResolve,\n  redirect_uri,\n  fieldsProfile = \"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender\",\n  response_type = \"code\",\n  return_scopes = true,\n  isOnlyGetToken = false,\n  children,\n}) => {\n  const scriptNodeRef = useRef(null);\n  const [isSdkLoaded, setIsSdkLoaded] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  useEffect(() => {\n    if (!isSdkLoaded) {\n      load();\n    }\n  }, [isSdkLoaded]);\n\n  useEffect(() => {\n    return () => {\n      if (scriptNodeRef.current) scriptNodeRef.current.remove();\n    };\n  }, []);\n\n  const insertSDKScript = useCallback((document, cb) => {\n    const fbScriptTag = document.createElement(\"script\");\n    fbScriptTag.id = SCRIPT_ID;\n    fbScriptTag.src = SDK_URL;\n    const scriptNode = document.getElementsByTagName(\"script\")[0];\n    if (scriptNode && scriptNode.parentNode) {\n      scriptNode.parentNode.insertBefore(fbScriptTag, scriptNode);\n    }\n    cb();\n  }, []);\n\n  const checkIsExistsSDKScript = useCallback(() => {\n    return !!document.getElementById(SCRIPT_ID);\n  }, []);\n\n  const initFbSDK = useCallback((config) => {\n    _window.fbAsyncInit = function () {\n      if (_window.FB) {\n        _window.FB.init({ ...config });\n      }\n      setIsSdkLoaded(true);\n      const fbRoot = document.getElementById(\"fb-root\");\n      if (!fbRoot) {\n        const newFbRoot = document.createElement(\"div\");\n        newFbRoot.id = \"fb-root\";\n        document.body.appendChild(newFbRoot);\n        scriptNodeRef.current = newFbRoot;\n      }\n    };\n  }, []);\n\n  const getMe = useCallback(\n    (authResponse) => {\n      _window.FB.api(\n        \"/me\",\n        { locale: language, fields: fieldsProfile },\n        (me) => {\n          if (typeof onResolve === \"function\") {\n            onResolve({\n              provider: \"facebook\",\n              data: { ...authResponse, ...me },\n            });\n          }\n        }\n      );\n    },\n    [fieldsProfile, language, onResolve]\n  );\n\n  const handleResponse = useCallback(\n    (response) => {\n      if (response.authResponse) {\n        if (isOnlyGetToken && typeof onResolve === \"function\") {\n          onResolve({\n            provider: \"facebook\",\n            data: { ...response.authResponse },\n          });\n        } else {\n          getMe(response.authResponse);\n        }\n      } else {\n        if (typeof onReject === \"function\") {\n          onReject(response);\n        }\n      }\n      setIsProcessing(false);\n    },\n    [getMe, isOnlyGetToken, onReject, onResolve]\n  );\n\n  const load = useCallback(() => {\n    if (checkIsExistsSDKScript()) {\n      setIsSdkLoaded(true);\n    } else {\n      insertSDKScript(document, () => {\n        initFbSDK({\n          appId,\n          xfbml,\n          version,\n          state,\n          cookie,\n          redirect_uri,\n          response_type,\n        });\n      });\n    }\n  }, [\n    state,\n    appId,\n    xfbml,\n    cookie,\n    version,\n    initFbSDK,\n    redirect_uri,\n    response_type,\n    insertSDKScript,\n    checkIsExistsSDKScript,\n  ]);\n\n  const loginFB = useCallback(() => {\n    if (!isSdkLoaded || isProcessing) return;\n\n    if (!_window.FB) {\n      load();\n      onReject(\"Fb isn't loaded!\");\n      setIsProcessing(false);\n    } else {\n      setIsProcessing(true);\n      if (onLoginStart) onLoginStart();\n      _window.FB.login(handleResponse, {\n        scope,\n        return_scopes,\n        auth_type,\n        access_token: \"YOUR_ACCESS_TOKEN\",\n      });\n    }\n  }, [\n    load,\n    scope,\n    onReject,\n    auth_type,\n    isSdkLoaded,\n    onLoginStart,\n    isProcessing,\n    return_scopes,\n    handleResponse,\n  ]);\n\n  return (\n    <button onClick={loginFB} className={className}>\n      {children}\n    </button>\n  );\n};\n\nexport default memo(LoginSocialFacebook);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}