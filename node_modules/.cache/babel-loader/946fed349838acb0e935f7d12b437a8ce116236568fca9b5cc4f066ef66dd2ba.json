{"ast":null,"code":"import _objectSpread from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ericli/Desktop/pill2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { runPolling } from \"./poller\";\nimport { validateWaiterOptions } from \"./utils\";\nimport { waiterServiceDefaults, WaiterState } from \"./waiter\";\nvar abortTimeout = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(abortSignal) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", new Promise(function (resolve) {\n            abortSignal.onabort = function () {\n              return resolve({\n                state: WaiterState.ABORTED\n              });\n            };\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function abortTimeout(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var createWaiter = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(options, input, acceptorChecks) {\n    var params, exitConditions;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          params = _objectSpread(_objectSpread({}, waiterServiceDefaults), options);\n          validateWaiterOptions(params);\n          exitConditions = [runPolling(params, input, acceptorChecks)];\n          if (options.abortController) {\n            exitConditions.push(abortTimeout(options.abortController.signal));\n          }\n          if (options.abortSignal) {\n            exitConditions.push(abortTimeout(options.abortSignal));\n          }\n          return _context2.abrupt(\"return\", Promise.race(exitConditions));\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function createWaiter(_x2, _x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["runPolling","validateWaiterOptions","waiterServiceDefaults","WaiterState","abortTimeout","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","abortSignal","wrap","_callee$","_context","prev","next","abrupt","Promise","resolve","onabort","state","ABORTED","stop","_x","apply","arguments","createWaiter","_ref2","_callee2","options","input","acceptorChecks","params","exitConditions","_callee2$","_context2","_objectSpread","abortController","push","signal","race","_x2","_x3","_x4"],"sources":["/Users/ericli/Desktop/pill2/node_modules/@aws-sdk/client-s3/node_modules/@aws-sdk/util-waiter/dist-es/createWaiter.js"],"sourcesContent":["import { runPolling } from \"./poller\";\nimport { validateWaiterOptions } from \"./utils\";\nimport { waiterServiceDefaults, WaiterState } from \"./waiter\";\nconst abortTimeout = async (abortSignal) => {\n    return new Promise((resolve) => {\n        abortSignal.onabort = () => resolve({ state: WaiterState.ABORTED });\n    });\n};\nexport const createWaiter = async (options, input, acceptorChecks) => {\n    const params = {\n        ...waiterServiceDefaults,\n        ...options,\n    };\n    validateWaiterOptions(params);\n    const exitConditions = [runPolling(params, input, acceptorChecks)];\n    if (options.abortController) {\n        exitConditions.push(abortTimeout(options.abortController.signal));\n    }\n    if (options.abortSignal) {\n        exitConditions.push(abortTimeout(options.abortSignal));\n    }\n    return Promise.race(exitConditions);\n};\n"],"mappings":";;;AAAA,SAASA,UAAU,QAAQ,UAAU;AACrC,SAASC,qBAAqB,QAAQ,SAAS;AAC/C,SAASC,qBAAqB,EAAEC,WAAW,QAAQ,UAAU;AAC7D,IAAMC,YAAY;EAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,WAAW;IAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,OAAAF,QAAA,CAAAG,MAAA,WAC5B,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAK;YAC5BR,WAAW,CAACS,OAAO,GAAG;cAAA,OAAMD,OAAO,CAAC;gBAAEE,KAAK,EAAEjB,WAAW,CAACkB;cAAQ,CAAC,CAAC;YAAA;UACvE,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAR,QAAA,CAAAS,IAAA;MAAA;IAAA,GAAAb,OAAA;EAAA,CACL;EAAA,gBAJKL,YAAYA,CAAAmB,EAAA;IAAA,OAAAlB,IAAA,CAAAmB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAIjB;AACD,OAAO,IAAMC,YAAY;EAAA,IAAAC,KAAA,GAAArB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAoB,SAAOC,OAAO,EAAEC,KAAK,EAAEC,cAAc;IAAA,IAAAC,MAAA,EAAAC,cAAA;IAAA,OAAA1B,mBAAA,GAAAI,IAAA,UAAAuB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAArB,IAAA,GAAAqB,SAAA,CAAApB,IAAA;QAAA;UACvDiB,MAAM,GAAAI,aAAA,CAAAA,aAAA,KACLlC,qBAAqB,GACrB2B,OAAO;UAEd5B,qBAAqB,CAAC+B,MAAM,CAAC;UACvBC,cAAc,GAAG,CAACjC,UAAU,CAACgC,MAAM,EAAEF,KAAK,EAAEC,cAAc,CAAC,CAAC;UAClE,IAAIF,OAAO,CAACQ,eAAe,EAAE;YACzBJ,cAAc,CAACK,IAAI,CAAClC,YAAY,CAACyB,OAAO,CAACQ,eAAe,CAACE,MAAM,CAAC,CAAC;UACrE;UACA,IAAIV,OAAO,CAACnB,WAAW,EAAE;YACrBuB,cAAc,CAACK,IAAI,CAAClC,YAAY,CAACyB,OAAO,CAACnB,WAAW,CAAC,CAAC;UAC1D;UAAC,OAAAyB,SAAA,CAAAnB,MAAA,WACMC,OAAO,CAACuB,IAAI,CAACP,cAAc,CAAC;QAAA;QAAA;UAAA,OAAAE,SAAA,CAAAb,IAAA;MAAA;IAAA,GAAAM,QAAA;EAAA,CACtC;EAAA,gBAdYF,YAAYA,CAAAe,GAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAhB,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAcxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}